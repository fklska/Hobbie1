[gd_scene load_steps=11 format=3 uid="uid://c34jocapwhqh8"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_x33w5"]
[ext_resource type="TileSet" uid="uid://ghcdpblo5xrf" path="res://main.tres" id="2_77wjo"]
[ext_resource type="PackedScene" uid="uid://cvc0anycxd5pt" path="res://AI/Prefabs/villager.tscn" id="2_eq3fp"]
[ext_resource type="PackedScene" uid="uid://cq63ulxk8g6gt" path="res://BuildSystem/buildings/town_hall.tscn" id="4_fc61l"]
[ext_resource type="Script" path="res://ComputerStats.gd" id="5_4my3v"]
[ext_resource type="PackedScene" uid="uid://cnpdc5pf0vuaj" path="res://Player/player.tscn" id="5_b88ed"]
[ext_resource type="PackedScene" uid="uid://og0gspwamlvi" path="res://Selector/selector.tscn" id="5_vlk01"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_o5d00"]
frequency = 0.0084
fractal_octaves = 6
fractal_lacunarity = 2.145

[sub_resource type="FastNoiseLite" id="FastNoiseLite_i4vyh"]
noise_type = 3
frequency = 0.0806
fractal_octaves = 3
fractal_lacunarity = 5.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_0fgft"]
parsed_geometry_type = 1
parsed_collision_mask = 15
source_geometry_group_name = &"navigation_polygon_source_group"

[node name="Main" type="Node2D" node_paths=PackedStringArray("nav_mesh") groups=["navigation_polygon_source_geometry_group"]]
z_index = 1
script = ExtResource("1_x33w5")
noise = SubResource("FastNoiseLite_o5d00")
res_noise = SubResource("FastNoiseLite_i4vyh")
nav_mesh = NodePath("NavigationRegion2D")
water_height = -0.709
sand_height = -0.32
wood_height = 0.097
rock_height = 0.048
gold_height = 0.022
iron_height = 0.036

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." groups=["navigation_polygon_source_geometry_group"]]
scale = Vector2(0.982194, 1.00272)
navigation_polygon = SubResource("NavigationPolygon_0fgft")

[node name="Tilemap" type="TileMap" parent="NavigationRegion2D" groups=["navigation_polygon_source_geometry_group"]]
z_index = -1
texture_filter = 1
scale = Vector2(1.01813, 0.997291)
tile_set = ExtResource("2_77wjo")
format = 2
layer_0/name = "Ground"
layer_1/name = "Resourses"
layer_1/tile_data = PackedInt32Array()

[node name="TownHall" parent="NavigationRegion2D" groups=["navigation_polygon_source_geometry_group"] instance=ExtResource("4_fc61l")]
position = Vector2(460.194, 316.141)
scale = Vector2(1.01813, 0.997291)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Selector" parent="CanvasLayer" instance=ExtResource("5_vlk01")]

[node name="Stats" type="PanelContainer" parent="CanvasLayer"]
custom_minimum_size = Vector2(32, 32)
anchors_preset = -1
anchor_left = 0.486111
anchor_right = 0.513889
anchor_bottom = 0.0493827
grow_horizontal = 2
script = ExtResource("5_4my3v")
metadata/_edit_use_anchors_ = true

[node name="Label" type="Label" parent="CanvasLayer/Stats"]
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 16
metadata/_edit_use_anchors_ = true

[node name="Timer" type="Timer" parent="CanvasLayer/Stats"]
wait_time = 2.0
autostart = true

[node name="Player" parent="." instance=ExtResource("5_b88ed")]
position = Vector2(580, 326)

[node name="Villager" parent="." instance=ExtResource("2_eq3fp")]
position = Vector2(121, 341)
input_pickable = true

[connection signal="bake_finished" from="NavigationRegion2D" to="." method="_on_navigation_region_2d_bake_finished"]
[connection signal="timeout" from="CanvasLayer/Stats/Timer" to="CanvasLayer/Stats" method="_on_timer_timeout"]
